<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bot Barbearia - Painel de Controle</title>
    <!-- âœ… CORRIGIDO: Caminho protegido para CSS -->
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>

    <!-- BotÃ£o de logout -->
    <div style="text-align: right; margin-bottom: 10px;">
        <button class="btn danger" onclick="logout()" style="padding: 8px 16px; font-size: 14px;">
            ğŸšª Sair
        </button>
    </div>

    <h1>ğŸ¤– Bot Barbearia Arretado - Painel de Controle</h1>
    
    <div class="container">
        <h2>ğŸ“Š Status do Bot</h2>
        <div id="status" class="status disconnected">Carregando...</div>
        
        <div id="qr-section" style="display: none;">
            <h3>ğŸ“± QR Code para ConexÃ£o</h3>
            <div class="qr-container">
                <img id="qr-image" src="" alt="QR Code">
                <p><strong>Escaneie este QR Code com seu WhatsApp para conectar o bot.</strong></p>
            </div>
        </div>
        
        <div class="controls-section">
            <button class="btn" onclick="refreshQR()">ğŸ”„ Atualizar QR</button>
            <button class="btn danger" onclick="restartBot()">ğŸ”„ Reiniciar Bot</button>
            <button class="btn warning" onclick="pauseBot()">â¸ï¸ Pausar Bot</button>
            <button class="btn success" onclick="resumeBot()">â–¶ï¸ Reativar Bot</button>
        </div>
    </div>
    
    <div class="container">
        <h2>âš™ï¸ ConfiguraÃ§Ãµes do Bot</h2>
        <form id="config-form">
            <div class="form-group">
                <label>NÃºmero de Controle (com cÃ³digo do paÃ­s mas sem primeiro 9, ex: 558485629999):</label>
                <input type="text" id="controlNumber" placeholder="5584999999999">
                <small>Este nÃºmero poderÃ¡ usar comandos !pausar, !ativar, !status</small>
            </div>
            
            <div class="form-group">
                <label>Mensagem de Boas-vindas:</label>
                <input type="text" id="welcomeMessage" placeholder="Bem-vindo(a) Ã  Barbearia...">
            </div>
            
            <div class="form-group">
                <label>EndereÃ§o:</label>
                <input type="text" id="address" placeholder="EndereÃ§o da barbearia">
            </div>
            
            <div class="form-group">
                <label>HorÃ¡rio de Funcionamento:</label>
                <textarea id="operatingHours" rows="3" placeholder="Seg a Sex: 09h as 19h..."></textarea>
            </div>
            
            <div class="form-group">
                <label>Link de Agendamento:</label>
                <input type="url" id="schedulingLink" placeholder="https://...">
            </div>
            
            <button type="submit" class="btn">ğŸ’¾ Salvar ConfiguraÃ§Ãµes</button>
        </form>
    </div>
    
    <div class="container">
        <h2>ğŸ’° Gerenciar ServiÃ§os</h2>
        <div id="services-list" class="services-list">
            <!-- ServiÃ§os serÃ£o carregados aqui -->
        </div>
        <div style="margin-top: 15px;">
            <button class="btn" onclick="openAddServiceModal()">â• Adicionar ServiÃ§o</button>
            <button class="btn" onclick="loadServices()">ğŸ”„ Recarregar Lista</button>
        </div>
    </div>

    <!-- Modal para adicionar/editar serviÃ§o -->
    <div id="serviceModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeServiceModal()">&times;</span>
            <h3 id="modalTitle">Adicionar ServiÃ§o</h3>
            <form id="service-form">
                <input type="hidden" id="serviceId">
                <div class="form-group">
                    <label>Nome do ServiÃ§o:</label>
                    <input type="text" id="serviceName" required>
                </div>
                <div class="form-group">
                    <label>Tempo (ex: 30min):</label>
                    <input type="text" id="serviceTime" required>
                </div>
                <div class="form-group">
                    <label>PreÃ§o (ex: a partir de R$ 25,00):</label>
                    <input type="text" id="servicePrice" required>
                </div>
                <button type="submit" class="btn">ğŸ’¾ Salvar</button>
                <button type="button" class="btn" onclick="closeServiceModal()">âŒ Cancelar</button>
            </form>
        </div>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <!-- âœ… CORRIGIDO: Caminho protegido para JavaScript -->
    <script src="/static/script.js"></script>
</body>
</html>
